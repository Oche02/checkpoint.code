package main

func CamelToSnakeCase(s string) string {
	if s == "" || s[len(s)-1] < 'a' || s[len(s)-1] > 'z' {
		return s
	}
	result := string(s[0])
	for i := 1; i < len(s); i++ {
		c := s[i]
		if c < 'A' || (c > 'z' && c < 'a') || c > 'A' && c <= 'Z' && s[i-1] >= 'A' && s[i-1] <= 'Z' {
			return s
		}
		if c >= 'A' && c <= 'Z' {
			result += "_"
		}
		result += string(c)
	}
	return result
}
